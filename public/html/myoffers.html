<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css">
    <title>Title</title>
</head>
<body ng-app="offerApp" ng-controller="CreateOfferCtrl as app">

<div class="container">
    <div class="row">
        <div class="col-sm-3 col-md-3 pull-right">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="srch-term" id="srch-term">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row" >
        <div class="col-sm-6 col-md-6">
            <h4>My bookings and requests</h4>
        </div>
        <div class="col-sm-6 col-md-6 pull-right">
            <div class="btn-group" style="float:right">
                <a href="#" ng-click="app.recent = !app.recent" class="btn btn-primary btn-primary"><span class="glyphicon glyphicon-export"></span> Show recent entries</a>
                <a href="#" class="btn btn-primary btn-info"><span class="glyphicon glyphicon-stats"></span> Filter entries</a>
            </div>
        </div>
    </div>
    <hr>

    <div class="row" ng-repeat="offerfinal in app.offerfinals | orderBy:'timestamp': app.recent" style="margin-bottom: 30px;">
        <div class="col-sm-10 col-md-10">
            <div class="media">
                <div class="media-body">
                    <ul class="list-group">
                        <h4 class="media-heading list-group-item-heading"
                            style="background-color: #2b669a;padding:10px;color:white;margin-bottom: 0px;">
                            Amount of care: <i>{{offerfinal.typeofcare}}</i></br>
                            Timeframe:<i> {{offerfinal.timeframe | datetime1}}</i>
                        </h4>
                        <li class="list-group-item"><b>Date created:</b> {{offerfinal.timestamp | datetime1}} </li>
                        <li class="list-group-item"><b>Wage:</b> {{offerfinal.wageperhour}} â‚¬ / h</li>
                        <li class="list-group-item"><b>Location:</b> {{offerfinal.supportedarea}}</li>
                        <li class="list-group-item"><b>Notes:</b> {{offerfinal.notes}}</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-sm-2 col-md-2 pull-right">
            <a href="#" class="btn btn-primary btn-success" style="min-width:80%;margin-top:10px;"><span class="glyphicon glyphicon-ok"></span> View</a>
            <a href="" ng-click="deleteOffer(offerfinal._id, app.offerfinals.indexOf(offerfinal))" class="btn btn-danger" style="min-width:80%;margin-top:10px;"><span class="glyphicon glyphicon-remove-sign"></span> Delete</a>
            <a href="" data-toggle="modal" data-target="#myModal"  ng-click="updateOffer(offerfinal, offerfinal.$index)" class="btn btn-primary btn-info" style="min-width:80%;margin-top:10px;"><span class="glyphicon glyphicon-envelope"></span> Update</a>
        </div>

    </div>


    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Edit offer</h4>
                </div>
                <form name="Offer" role="form" ng-submit="submit()" novalidate>
                <div class="modal-body" ng-include="'/html/offerservice_stripped.html'" style="width:100%;">

                </div>
                </form>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" ng-click="saveUpdate(offer)">Save changes</button>
                </div>
            </div>
        </div>
    </div>


</div>

<script src="/bower_components/angular/angular.js"></script>
<script src="/html/offerservice.js"></script>
<script src="/bower_components/jquery/dist/jquery.js"></script>
<script src="/bower_components/bootstrap/dist/js/bootstrap.js"></script>
<script src="/bower_components/angular-bootstrap-show-errors/src/showErrors.js"></script>
<script src="/bower_components/angular-messages/angular-messages.js"></script>

<script src="/bower_components/lodash/dist/lodash.min.js"></script>
<script src="/bower_components/angular-simple-logger/dist/angular-simple-logger.min.js"></script>
<script src="/bower_components/angular-google-maps/dist/angular-google-maps.min.js"></script>
<!--<script src="https://maps.googleapis.com/maps/api/js?callback=initMap&key=AIzaSyCLOfEshWapwoqrg5qMVjhpG1DB75lvjTE"
        async defer></script>-->
<link rel="stylesheet" href="/html/offerservice.css">


</body>
</html>